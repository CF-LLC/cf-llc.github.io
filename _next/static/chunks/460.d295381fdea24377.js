(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{5460:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return n}});var a=t(7437),c=t(2265),o=t(4686),r=t.n(o);function n(){let[e,l]=(0,c.useState)(b()),[t,o]=(0,c.useState)("black"),[n,s]=(0,c.useState)(!1),[i,u]=(0,c.useState)(null),[_,h]=(0,c.useState)(!1);function b(){let e=Array(8).fill(null).map(()=>Array(8).fill(null));return e[3][3]="white",e[3][4]="black",e[4][3]="black",e[4][4]="white",e}let d=(0,c.useCallback)(e=>"black"===e?"white":"black",[]),k=(0,c.useCallback)((e,l,t,a)=>null===a[e][l]&&[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].some(c=>{let[o,r]=c,n=e+o,s=l+r;if(n<0||n>=8||s<0||s>=8||a[n][s]!==d(t))return!1;for(;n>=0&&n<8&&s>=0&&s<8&&null!==a[n][s];){if(a[n][s]===t)return!0;n+=o,s+=r}return!1}),[d]),f=(0,c.useCallback)((e,l,t,a)=>{let c=a.map(e=>[...e]);return c[e][l]=t,[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].forEach(o=>{let[r,n]=o,s=e+r,i=l+n,u=[];for(;s>=0&&s<8&&i>=0&&i<8&&a[s][i]===d(t);)u.push([s,i]),s+=r,i+=n;s>=0&&s<8&&i>=0&&i<8&&a[s][i]===t&&u.forEach(e=>{let[l,a]=e;c[l][a]=t})}),c},[d]),p=(0,c.useCallback)((e,l)=>{for(let t=0;t<8;t++)for(let a=0;a<8;a++)if(k(t,a,e,l))return!0;return!1},[k]),m=(0,c.useCallback)(()=>{let l=0,t=0;return e.forEach(e=>{e.forEach(e=>{"black"===e&&l++,"white"===e&&t++})}),{black:l,white:t}},[e]),w=(0,c.useCallback)(()=>e.every(e=>e.every(e=>null!==e)),[e]),v=(0,c.useCallback)(e=>!!w()||!p("black",e)&&!p("white",e),[w,p]),C=(0,c.useCallback)(e=>{let l=d(t);p(l,e)?o(l):p(t,e)?console.log("".concat(l," has no valid moves. ").concat(t," goes again.")):s(!0)},[t,d,p]),O=(0,c.useCallback)((a,c)=>{if(n||!k(a,c,t,e))return;let o=f(a,c,t,e);l(o),C(o)},[n,k,f,t,e,C]),N=(e,l)=>{let t=0;for(let a=0;a<8;a++)for(let c=0;c<8;c++)e[a][c]===l&&((0===a||7===a)&&(0===c||7===c)?t+=4:0===a||7===a||0===c||7===c?t+=2:t+=1);return t},x=(0,c.useCallback)(()=>{let a=-1/0,c=null;for(let l=0;l<8;l++)for(let o=0;o<8;o++)if(k(l,o,t,e)){let r=N(f(l,o,t,e),t);r>a&&(a=r,c=[l,o])}if(c){let[a,o]=c,r=f(a,o,t,e);l(r),C(r)}else C(e)},[t,e,k,f,C]),j=(0,c.useCallback)(()=>{l(b()),o("black"),s(!1),u(null)},[]);(0,c.useEffect)(()=>{if(v(e)){s(!0);let{black:e,white:l}=m();e>l?u("black"):l>e?u("white"):u("Draw")}else if(_&&"white"===t){let e=setTimeout(x,500);return()=>clearTimeout(e)}},[e,v,_,t,x,m]);let{black:y,white:g}=m();return(0,a.jsxs)("div",{className:r().game,children:[(0,a.jsx)("div",{className:r().board,children:e.map((l,c)=>l.map((l,o)=>(0,a.jsx)("button",{className:"".concat(r().cell," ").concat(l?r()[l]:""," ").concat(k(c,o,t,e)?r().validMove:""),onClick:()=>O(c,o),disabled:n||_&&"white"===t||!k(c,o,t,e),children:l&&(0,a.jsx)("div",{className:r().piece})},"".concat(c,"-").concat(o))))}),n?(0,a.jsxs)("div",{className:"".concat(r().popup," ").concat("black"===i?r().win:"white"===i?r().lose:""),children:["Draw"===i?"It's a draw!":"".concat(i," wins!"),(0,a.jsx)("button",{onClick:j,className:r().resetButton,children:"Reset"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:r().scoreContainer,children:[(0,a.jsxs)("div",{className:"".concat(r().score," ").concat("black"===t?r().currentPlayer:""),children:["Black: ",y]}),(0,a.jsxs)("div",{className:"".concat(r().score," ").concat("white"===t?r().currentPlayer:""),children:["White: ",g]})]}),(0,a.jsx)("div",{className:r().controls,children:(0,a.jsx)("button",{onClick:()=>h(!_),className:r().button,children:_?"Disable Bot":"Enable Bot"})})]})]})}},4686:function(e){e.exports={game:"Othello_game__LSpcY",board:"Othello_board__SM4t3",cell:"Othello_cell__0c7Fd",piece:"Othello_piece__N2XLO",black:"Othello_black__wORX9",white:"Othello_white__95_A8",validMove:"Othello_validMove__msTuc",scoreContainer:"Othello_scoreContainer__1WlAP",score:"Othello_score__1abKM",currentPlayer:"Othello_currentPlayer__rP0Zr",controls:"Othello_controls__pKO_v",button:"Othello_button__Cmg7_",popup:"Othello_popup__nvDye",win:"Othello_win__Y9cZk",lose:"Othello_lose__ppG3C",resetButton:"Othello_resetButton__vpwZd"}}}]);